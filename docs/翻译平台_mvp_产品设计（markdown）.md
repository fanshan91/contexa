# 语境翻译平台 MVP 产品设计方案

> 目标：在**单人开发、前期投入可控**的前提下，构建一款可上线、可试用、半年后可商业化的翻译平台。
>
> 核心价值聚焦在：
> - 开发人员的**语言包工程化同步**
> - 翻译人员的**页面级上下文辅助翻译**
> - 基于页面上下文的 **AI LLM 翻译提效**

---

## 一、产品定位（一句话）

> 一个面向开发者的翻译平台，提供 **语言包同步 + 页面级上下文辅助 + AI 翻译**，
> 用最小成本解决「翻译脱离业务语境」的问题。

> ❌ 不追求成为 Crowdin / Tolgee 的完整替代
>
> ✅ 追求：**好接入、好理解、能付费**

---

## 二、MVP 核心能力概览

| 能力 | 是否核心 | 收费策略 |
|----|----|----|
| 语言包上传 / 下载 | 核心 | 永久免费 |
| SDK / CLI 同步 | 核心 | 永久免费 |
| 人工编辑翻译 | 基础 | 永久免费 |
| 页面级上下文翻译 | 核心 | 免费 6 个月，到期停用 |
| 页面级 AI 翻译 | 核心 | 免费 6 个月，到期停用 |
| 所见及所得的实时翻译效果，双向实时同步。 1、支持通过API获取TMS平台实时翻译数据。 2、支持系统运行时，实时将出现的文案，显示在TMS平台上 | 核心 | 免费 6 个月，到期停用 |

---

## 三、核心能力一：语言包同步（长期免费）

### 1. 设计目标

- 平台立身之本
- 即使用户不付费，也**不会弃用**
- 对开发者侵入性极低

### 2. 支持格式（MVP 仅支持一种）

- **JSON（强烈推荐）**

```json
{
  "msg.deleteSu": "删除成功",
  "user.name": "用户名"
}
```

---

### 3. SDK / CLI 职责（闭源，极简）

SDK 只做 3 件事：

1. 上传语言包
2. 下载语言包
3. 上报页面上下文快照（供上下文翻译 & AI 使用）

> 不做 runtime 翻译、不接管 i18n、不扫描 AST

---


> 可优先实现 CLI，SDK 只是 CLI 的包装层

---

## 四、核心能力二：页面级上下文翻译（非 DOM 级）

### 1. 产品定义（对外口径）

> 页面级上下文翻译（Page-level In-Context Translation）

- ❌ 不是点击页面文字直接编辑
- ✅ 是在翻译时 **明确知道：在哪个页面、什么业务语境**

---

### 2. 页面上下文的采集方式

由 SDK 在开发 / 测试环境上报：

```ts
sdk.captureContext({
  route: '/user/list',
  title: '用户列表',
  locale: 'zh-CN',
  snapshot: {
    'msg.deleteSu': '删除成功',
    'user.name': '用户名'
  }
});
```

采集信息仅包括：
- 页面路由 / 标识
- 页面标题
- 当前页面实际使用到的 key + 文案

不涉及 DOM、不侵入业务代码

---

### 3. 翻译平台中的展示形态

```
页面：用户列表 (/user/list)

[ 删除成功 ]   key: msg.deleteSu
[ 用户名 ]     key: user.name
```

- 翻译人员按页面维度工作
- 每个 key 都有明确“出现页面”

---

### 4. 上下文翻译的价值

- 避免“孤立 key 翻译”
- 减少歧义、误译
- 对后台 / BI / 管理系统尤其友好

---

## 五、核心能力三：页面级 AI LLM 翻译（最大差异点）

### 1. 核心设计原则

> AI 翻译不是 key → 文本，
> 而是：**页面语境 → 整体翻译质量**

---

### 2. AI 翻译的输入结构

```json
{
  "page": "/user/list",
  "description": "用户管理页面，包含用户列表和删除操作",
  "sourceLocale": "zh-CN",
  "targetLocale": "en-US",
  "entries": [
    { "key": "msg.deleteSu", "text": "删除成功" },
    { "key": "user.name", "text": "用户名" }
  ]
}
```

---

### 3. AI 翻译能力要求

- 批量生成翻译建议
- 基于页面整体语义保持一致性
- 支持逐条 Accept / Reject
- 可标记为“已审校”

> 核心竞争力在 **Prompt Engineering**，而不是模型本身

---

## 六、免费与付费策略设计（半年试用）

### 永久免费

- 语言包上传 / 下载
- SDK / CLI 同步
- 人工编辑翻译（无上下文）

---

### 免费 6 个月（到期停用）

- 页面级上下文翻译视图
- AI LLM 翻译（自动 / 建议）

---

### 到期后的状态原则

> 功能不可用，但数据可见

- 已有翻译内容保留
- SDK 同步不受影响
- 仅禁用上下文与 AI 能力

---

## 七、技术架构建议（单人可维护）

### 后端

- NestJS 或 Spring Boot（二选一）
- PostgreSQL
- Redis（可选，用于 AI 任务队列）

---

### 核心数据模型（MVP 级）

```text
Project
Locale
Key
Translation
PageContext
AITranslationTask
License
```

---

### SDK / CLI

- Node.js CLI
- JS SDK（wrapper）
- 仅支持一种语言生态即可

---

## 八、明确不做的事情（第一阶段）

> 以下内容会显著放大复杂度，**坚决不做**：

- DOM 级可视化编辑
- 多前端框架 SDK
- 翻译流程引擎（review / approve / role）
- 术语库 / 翻译记忆
- 评论、@、工单等协作功能

---

## 九、阶段性结论

- 商业模型：**成立**（开源核心 + 商业增强 + 时间授权）
- 技术实现：**现实可控**，单人可完成
- 产品差异点：**页面级上下文 + AI 翻译**

> 你真正解决的不是“翻译问题”，
> 而是：
> **开发者与翻译人员之间的上下文鸿沟问题**。

